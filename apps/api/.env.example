# Backend
# Debug value for api server use it as 0 for production use
DEBUG=0
CORS_ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost:3100"

# ============================================
# Deployment Mode Configuration
# ============================================
# Set to 0 for native (non-Docker) deployment
# Set to 1 for Docker deployment (deprecated for FamilyFlow)
DOCKERIZED=0

# ============================================
# Database Configuration
# ============================================
# Option 1: Supabase (Recommended for FamilyFlow)
#
# Getting Your Supabase Connection String:
#   1. Go to https://app.supabase.com
#   2. Select your project (or create a new one)
#   3. Navigate to: Settings → Database
#   4. Under "Connection string", select "URI" tab
#   5. Copy the connection string (starts with postgresql://)
#   6. IMPORTANT: Append ?sslmode=require to the connection string
#
# Connection String Format:
#   postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres?sslmode=require
#
# Where to find [PASSWORD]:
#   - Settings → Database → Database password
#   - Or reset password if you forgot it
#
# Where to find [PROJECT_REF]:
#   - Settings → General → Reference ID
#   - This is your project's unique identifier
#
# Uncomment and configure for Supabase usage:
# SUPABASE_DB_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres?sslmode=require
#
# Alternative: Use DATABASE_URL (Django will use this if SUPABASE_DB_URL is not set)
# DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres?sslmode=require

# Supabase Project Configuration (for Realtime/Storage features)
# These are optional but recommended for full Supabase integration
#
# SUPABASE_URL: Your Supabase project URL
#   - Find in: Settings → General → API URL
#   - Format: https://[PROJECT_REF].supabase.co
# SUPABASE_URL=https://[PROJECT_REF].supabase.co
#
# SUPABASE_PROJECT_REF: Your project reference ID (same as in connection string)
#   - Find in: Settings → General → Reference ID
# SUPABASE_PROJECT_REF=[PROJECT_REF]
#
# SUPABASE_ANON_KEY: Public anonymous key (safe to expose in frontend)
#   - Find in: Settings → API → Project API keys → anon/public
#   - Used by frontend for Supabase client initialization
# SUPABASE_ANON_KEY=[ANON_KEY]
#
# SUPABASE_SERVICE_ROLE_KEY: Service role key (SECRET - never expose in frontend!)
#   - Find in: Settings → API → Project API keys → service_role
#   - Only use for server-side operations that bypass Row Level Security
#   - Keep this secret and secure
# SUPABASE_SERVICE_ROLE_KEY=[SERVICE_ROLE_KEY]

# Enable Supabase Realtime for task state updates
# Set to 1 to enable real-time subscriptions (frontend feature)
ENABLE_SUPABASE_REALTIME=0

# Supabase Row Level Security (RLS)
# RLS is enabled at the database level via SQL policies
# This flag indicates whether RLS is enabled (should be 1 in production)
# Set to 0 only if you're not using RLS (not recommended for production)
SUPABASE_RLS_ENABLED=1

# Option 2: Local PostgreSQL (for Docker or local development)
# DATABASE_URL will be automatically used if SUPABASE_DB_URL is not set
POSTGRES_USER="plane"
POSTGRES_PASSWORD="plane"
POSTGRES_HOST="localhost"
POSTGRES_DB="plane"
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================
# Redis Configuration
# ============================================
# Native Deployment: Use localhost (Redis installed as system service)
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_URL="redis://localhost:6379/0"

# Docker Deployment: Use service name
# REDIS_HOST="plane-redis"
# REDIS_URL="redis://plane-redis:6379/"

# ============================================
# RabbitMQ Configuration
# ============================================
# Native Deployment: Use localhost (RabbitMQ installed as system service)
RABBITMQ_HOST="localhost"
RABBITMQ_PORT="5672"
RABBITMQ_USER="guest"
RABBITMQ_PASSWORD="guest"
RABBITMQ_VHOST="/"

# Docker Deployment: Use service name and configured credentials
# RABBITMQ_HOST="plane-mq"
# RABBITMQ_USER="plane"
# RABBITMQ_PASSWORD="plane"
# RABBITMQ_VHOST="plane"

# ============================================
# Storage Configuration
# ============================================
# Option 1: Supabase Storage (Recommended for FamilyFlow)
# Use Supabase Storage for file uploads (family avatars, etc.)
# Configure via Supabase dashboard, then set:
# AWS_ACCESS_KEY_ID=[from Supabase]
# AWS_SECRET_ACCESS_KEY=[from Supabase]
# AWS_S3_ENDPOINT_URL=https://[PROJECT_REF].supabase.co/storage/v1/s3
# AWS_S3_BUCKET_NAME=[your bucket name]

# Option 2: Local MinIO (for Docker or local development)
USE_MINIO=0
AWS_REGION=""
AWS_ACCESS_KEY_ID="access-key"
AWS_SECRET_ACCESS_KEY="secret-key"
AWS_S3_ENDPOINT_URL="http://localhost:9000"
AWS_S3_BUCKET_NAME="uploads"

# Maximum file upload limit (in bytes)
FILE_SIZE_LIMIT=5242880
# Signed URL expiration time in seconds (default: 3600 = 1 hour)
SIGNED_URL_EXPIRATION=3600

# ============================================
# Django Configuration
# ============================================
# Secret key for Django (generate a new one for production!)
# Use: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY="your-secret-key-here"

# Allowed hosts (comma-separated)
# For production: your-domain.com,www.your-domain.com
ALLOWED_HOSTS="localhost,127.0.0.1"

# Gunicorn Workers (production only)
GUNICORN_WORKERS=4

# ============================================
# Application URLs
# ============================================
WEB_URL="http://localhost:8000"
ADMIN_BASE_URL="http://localhost:3001"
ADMIN_BASE_PATH="/god-mode"
SPACE_BASE_URL="http://localhost:3002"
SPACE_BASE_PATH="/spaces"
APP_BASE_URL="http://localhost:3000"
APP_BASE_PATH=""
LIVE_BASE_URL="http://localhost:3100"
LIVE_BASE_PATH="/live"
LIVE_SERVER_SECRET_KEY="secret-key"

# ============================================
# Other Settings
# ============================================
# Hard delete files after days
HARD_DELETE_AFTER_DAYS=60

# Force HTTPS for handling SSL Termination
MINIO_ENDPOINT_SSL=0

# API key rate limit
API_KEY_RATE_LIMIT="60/minute"

# GPT settings (deprecated)
OPENAI_API_BASE="https://api.openai.com/v1"
OPENAI_API_KEY="sk-"
GPT_ENGINE="gpt-3.5-turbo"
