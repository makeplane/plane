# ============================================
# FamilyFlow Environment Variables Template
# ============================================
# Copy this file to .env and configure with your actual values
# This file is for native (non-Docker) deployment on Digital Ocean
#
# For Docker deployment, see docker-compose-local.yml
# ============================================

# ============================================
# Deployment Mode Configuration
# ============================================
# Set to 0 for native (non-Docker) deployment
# Set to 1 for Docker deployment (deprecated for FamilyFlow)
DOCKERIZED=0

# ============================================
# Database Configuration
# ============================================
# Option 1: Supabase (Recommended for FamilyFlow)
# Uncomment and configure for Supabase usage:
# SUPABASE_DB_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres?sslmode=require

# Supabase Project Configuration (for Realtime/Storage features)
# SUPABASE_URL=https://[PROJECT_REF].supabase.co
# SUPABASE_PROJECT_REF=[PROJECT_REF]
# SUPABASE_ANON_KEY=[ANON_KEY]
# SUPABASE_SERVICE_ROLE_KEY=[SERVICE_ROLE_KEY]

# Enable Supabase Realtime for task state updates
ENABLE_SUPABASE_REALTIME=0
SUPABASE_RLS_ENABLED=1

# Option 2: Local PostgreSQL (for Docker or local development)
POSTGRES_USER="plane"
POSTGRES_PASSWORD="plane"
POSTGRES_DB="plane"
PGDATA="/var/lib/postgresql/data"

# ============================================
# Redis Configuration
# ============================================
# Native Deployment: Use localhost (Redis installed as system service)
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_URL="redis://localhost:6379/0"

# Docker Deployment: Use service name
# REDIS_HOST="plane-redis"
# REDIS_PORT="6379"
# REDIS_URL="redis://plane-redis:6379/"

# ============================================
# RabbitMQ Configuration
# ============================================
# Native Deployment: Use localhost (RabbitMQ installed as system service)
RABBITMQ_HOST="localhost"
RABBITMQ_PORT="5672"
RABBITMQ_USER="guest"
RABBITMQ_PASSWORD="guest"
RABBITMQ_VHOST="/"

# Docker Deployment: Use service name and configured credentials
# RABBITMQ_HOST="plane-mq"
# RABBITMQ_PORT="5672"
# RABBITMQ_USER="plane"
# RABBITMQ_PASSWORD="plane"
# RABBITMQ_VHOST="plane"

# ============================================
# Storage Configuration
# ============================================
# Option 1: Supabase Storage (Recommended for FamilyFlow)
# Configure via Supabase dashboard

# Option 2: Local MinIO (for Docker or local development)
USE_MINIO=0
AWS_REGION=""
AWS_ACCESS_KEY_ID="access-key"
AWS_SECRET_ACCESS_KEY="secret-key"
AWS_S3_ENDPOINT_URL="http://localhost:9000"
AWS_S3_BUCKET_NAME="uploads"
FILE_SIZE_LIMIT=5242880

# ============================================
# Server Configuration
# ============================================
LISTEN_HTTP_PORT=80
LISTEN_HTTPS_PORT=443

# ============================================
# SSL/TLS Configuration (Optional)
# ============================================
# If SSL Cert to be generated, set CERT_EMAIL="email <EMAIL_ADDRESS>"
CERT_ACME_CA=https://acme-v02.api.letsencrypt.org/directory
TRUSTED_PROXIES=0.0.0.0/0
SITE_ADDRESS=:80
CERT_EMAIL=

# For DNS Challenge based certificate generation
# CERT_ACME_DNS="acme_dns <CERT_DNS_PROVIDER> <CERT_DNS_PROVIDER_API_KEY>"
CERT_ACME_DNS=

# ============================================
# Other Settings
# ============================================
# Force HTTPS for handling SSL Termination
MINIO_ENDPOINT_SSL=0

# API key rate limit
API_KEY_RATE_LIMIT="60/minute"

# GPT settings (deprecated)
OPENAI_API_BASE="https://api.openai.com/v1"
OPENAI_API_KEY="sk-"
GPT_ENGINE="gpt-3.5-turbo"
